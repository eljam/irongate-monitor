#!/usr/bin/env php
<?php

if (!file_exists(__DIR__.'/../vendor/autoload.php')) {
    throw new \RuntimeException(
        "\n"
        ."[ERROR] irongate monitor depends on some external libraries and components.\n"
        ."It seems that those dependencies aren't properly installed.\n\n"
        ."Perhaps you forgot to execute 'php composer.phar install' before\n"
        ."using irongate monitor for the first time?\n\n"
        ."This command requires that you have previously installed Composer.\n"
        ."To do so, execute the following command:\n\n"
        ." $ curl -s http://getcomposer.org/installer | php"
        ."\n\n"
    );
}

if (file_exists($autoload = __DIR__.'/../../../autoload.php')) {
    require_once $autoload;
} else {
    require_once __DIR__.'/../vendor/autoload.php';
}

use Webmozart\Console\ConsoleApplication;
use Hogosha\Monitor\Console\MonitorApplicationConfig;

$cli = new ConsoleApplication(new MonitorApplicationConfig());
$cli->run();
